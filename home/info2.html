<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vuepress Docs Boilerplate</title>
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/myvuepress/assets/css/0.styles.50bc3db6.css" as="style"><link rel="preload" href="/myvuepress/assets/js/app.3b3c5eb1.js" as="script"><link rel="preload" href="/myvuepress/assets/js/2.89529d90.js" as="script"><link rel="preload" href="/myvuepress/assets/js/5.25758892.js" as="script"><link rel="prefetch" href="/myvuepress/assets/js/10.8222a942.js"><link rel="prefetch" href="/myvuepress/assets/js/11.56fa6d92.js"><link rel="prefetch" href="/myvuepress/assets/js/12.5a6ce5fc.js"><link rel="prefetch" href="/myvuepress/assets/js/13.1c4f7e91.js"><link rel="prefetch" href="/myvuepress/assets/js/14.d69ab4fa.js"><link rel="prefetch" href="/myvuepress/assets/js/3.53e6d132.js"><link rel="prefetch" href="/myvuepress/assets/js/4.47813568.js"><link rel="prefetch" href="/myvuepress/assets/js/6.d3e0669e.js"><link rel="prefetch" href="/myvuepress/assets/js/7.e66bf502.js"><link rel="prefetch" href="/myvuepress/assets/js/8.4239a0f3.js"><link rel="prefetch" href="/myvuepress/assets/js/9.353dde68.js">
    <link rel="stylesheet" href="/myvuepress/assets/css/0.styles.50bc3db6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="layout"><header class="top" data-v-69672e5f><div class="logo" data-v-69672e5f>郑彦</div> <div class="info" data-v-69672e5f><div class="search" data-v-69672e5f><input type="text" data-v-69672e5f></div> <nav class="nav" data-v-69672e5f><a href="/myvuepress/home/" data-v-69672e5f>
				首页
			</a><a href="https://github.com/" data-v-69672e5f>
				GitHub
			</a></nav></div></header> <section class="banner" data-v-7d5dfa0e><div data-v-7d5dfa0e><h1 data-v-7d5dfa0e>风林火上阴雷</h1> <p data-v-7d5dfa0e>其疾如风、其徐如林、侵略如火、不动如山、难知如阴、动如雷震。</p></div> <p class="title" data-v-7d5dfa0e>you still have lots more to work on。</p></section> <section class="content"><div class="content__default"><div class="current_page"><div class="article"><h2 id="安装环境和项目"><a href="#安装环境和项目" class="header-anchor">#</a> 安装环境和项目</h2> <h3 id="生成项目"><a href="#生成项目" class="header-anchor">#</a> 生成项目</h3> <div class="language- extra-class"><pre class="language-text"><code>$ mkdir vuepress-blog &amp;&amp; cd vuepress-blog
$ yarn create vuepress
</code></pre></div><p>选择<code>blog</code></p> <p><strong>运行</strong></p> <div class="language- extra-class"><pre class="language-text"><code>$ yarn dev
</code></pre></div><p><strong>报错</strong></p> <p><img src="/myvuepress/assets/img/error.1ab33a1a.png" alt="error"></p> <p><strong>原因</strong></p> <p>没有安装依赖文件</p> <p><strong>安装依赖文件</strong></p> <div class="language- extra-class"><pre class="language-text"><code>$ yarn install
</code></pre></div><h2 id="部署"><a href="#部署" class="header-anchor">#</a> 部署</h2> <p><a href="https://www.vuepress.cn/guide/deploy.html#github-%E9%A1%B5%E9%9D%A2" target="_blank" rel="noopener noreferrer">官方文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="部署github环境"><a href="#部署github环境" class="header-anchor">#</a> 部署github环境</h3> <p>登录<code>github</code>, <a href="https://github.com/" target="_blank" rel="noopener noreferrer">https://github.com/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>生成<code>new</code>项目, 文件名<code>myblog</code></p> <p>选择<code>MIT License</code></p> <p><img src="/myvuepress/assets/img/config1.5e933fa2.png" alt="config1"></p> <h3 id="生成-sh文件"><a href="#生成-sh文件" class="header-anchor">#</a> 生成.sh文件</h3> <p>在根目录新建<code>deploy.sh</code>文件</p> <div class="language- extra-class"><pre class="language-text"><code>#!/usr/bin/env sh

# 终止一个错误
set -e

# 构建
yarn build :build

# 进入生成的构建文件夹
cd blog/.vuepress/dist

git init
git add -A
git commit -m 'deploy'

# 如果你想要部署到 
git push -f git@github.com:guoba7come/myblog.git master:gh-pages

# 链接远程仓库
git remote add origin https://github.com/guoba7come/myblog.git

# 拉取远程仓库的文件
git pull --rebase origin master

# 同步更新代码
git push -u origin master

cd -
</code></pre></div><p>注意：在构建处，<code>yarn build :build</code>, 注意空格位置</p> <h3 id="发布"><a href="#发布" class="header-anchor">#</a> 发布</h3> <p>打开终端，cd 到当前文件，输入：</p> <div class="language- extra-class"><pre class="language-text"><code>$ sh deploy.sh
</code></pre></div><p>在<code>github</code>上的项目<code>settings</code>选项中打开的项目样式错误，则为没有设置正确的<code>base</code>,</p> <p>在<code>blog/.vuepress/config</code>添加属性<code>base: '/myblog'</code></p> <p><code>base</code>为<code>github</code>上的项目名</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  base<span class="token punctuation">:</span> <span class="token string">'/myblog/'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>链接远程仓库的地址在项目的下载处得到</p> <p><img src="/myvuepress/assets/img/config2.88430d77.png" alt="config2"></p> <p>在终端中需要输入<code>github</code>的<code>Username</code>和<code>Password</code></p> <p><img src="/myvuepress/assets/img/config3.97834fdc.png" alt="config3"></p> <p>发布成功后可在<code>setting</code>中，<code>options</code>下<code>GitHub Pages</code>中浏览。</p> <p><img src="/myvuepress/assets/img/config4.ac0b8225.png" alt="config4"></p> <h3 id="更新"><a href="#更新" class="header-anchor">#</a> 更新</h3> <p>每次更新都在终端中执行<code>.sh</code>文件</p> <div class="language- extra-class"><pre class="language-text"><code>$ sh deloy.sh
</code></pre></div><h2 id="github项目私有秘钥"><a href="#github项目私有秘钥" class="header-anchor">#</a> github项目私有秘钥</h2> <h3 id="安装git"><a href="#安装git" class="header-anchor">#</a> 安装git</h3> <p><a href="https://git-scm.com/downloads" target="_blank" rel="noopener noreferrer">下载地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>注意：在<code>mac</code>中需要在系统偏好设置中安全性与隐私中设置允许</p> <h3 id="创建ssh"><a href="#创建ssh" class="header-anchor">#</a> 创建SSH</h3> <p><code>mac</code>: 在终端中输入 <code>$ cd ~/.ssh</code>进入该目录</p> <p><code>window</code>: 点击<code>Git bash</code>打开命令窗口</p> <div class="language- extra-class"><pre class="language-text"><code>$ ssh-keygen -t rsa -C xxxxx@xx.com
</code></pre></div><p>然后3次回车
将生成的<code>id_rsa.pub</code>文件打开，拷贝其中的公钥内容。
地址：<code>/Users/apple/.ssh/id_rsa.pub</code>
在终端中会有路径地址：
<img src="/myvuepress/assets/img/location.788f9b86.png" alt="location"></p> <h3 id="放置公钥"><a href="#放置公钥" class="header-anchor">#</a> 放置公钥</h3> <p>登录<code>github</code>中，进入项目中的<code>settings</code>选项中</p> <p>选择<code>Deploy Keys</code>, 点击<code>Add deploy key</code>按钮</p> <p>将之前的<code>id_rsa.pub</code>内容拷贝到其中，<code>title</code>随便写</p> <p><img src="/myvuepress/assets/img/config5.21ba288b.png" alt="config5"></p> <p><img src="/myvuepress/assets/img/config6.0e669b7f.png" alt="config6"></p> <p>注意：选中<code>Allow write access</code>选项，否则部署文件时报错，原因为秘钥被标记为只读</p></div> <div class="silder"><p></p><div class="table-of-contents"><ul><li><a href="#安装环境和项目">安装环境和项目</a><ul><li><a href="#生成项目">生成项目</a></li></ul></li><li><a href="#部署">部署</a><ul><li><a href="#部署github环境">部署github环境</a></li><li><a href="#生成-sh文件">生成.sh文件</a></li><li><a href="#发布">发布</a></li><li><a href="#更新">更新</a></li></ul></li><li><a href="#github项目私有秘钥">github项目私有秘钥</a><ul><li><a href="#安装git">安装git</a></li><li><a href="#创建ssh">创建SSH</a></li><li><a href="#放置公钥">放置公钥</a></li></ul></li></ul></div><p></p></div></div></div></section> <footer data-v-cffd532a></footer></div><div class="global-ui"></div></div>
    <script src="/myvuepress/assets/js/app.3b3c5eb1.js" defer></script><script src="/myvuepress/assets/js/2.89529d90.js" defer></script><script src="/myvuepress/assets/js/5.25758892.js" defer></script>
  </body>
</html>
